# ๐ AgroCredit AI - ะะฐะฟััะบ ะกะธััะตะผั

## ะัััััะน ััะฐัั (5 ะผะธะฝัั)

### 1. ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน

**Backend:**
```bash
cd backend
pip install -r requirements.txt
```

**Frontend:**
```bash
cd frontend
npm install
```

### 2. ะะฐัััะพะนะบะฐ ะพะบััะถะตะฝะธั

```bash
cd backend
cp .env.example .env
```

ะัะบัะพะนัะต `.env` ะธ ะดะพะฑะฐะฒััะต ะฒะฐั OpenAI API ะบะปัั:
```env
OPENAI_API_KEY=sk-proj-ะฒะฐั-ะบะปัั-ะทะดะตัั
```

[ะะฐะบ ะฟะพะปััะธัั ะบะปัั](https://platform.openai.com/api-keys)

### 3. ะกะพะทะดะฐะฝะธะต ัะตััะพะฒัั ะดะฐะฝะฝัั

```bash
cd backend
python seed_scoring_db.py
```

ะญัะพ ัะพะทะดะฐัั 3 ัะตััะพะฒัั ัะตัะผะตัะฐ ั ะฟะพะปะฝัะผะธ ะฟัะพัะธะปัะผะธ.

### 4. ะะฐะฟััะบ ะฟัะธะปะพะถะตะฝะธั

**Terminal 1 - Backend:**
```bash
cd backend
uvicorn app.main:app --reload --port 8000
```

**Terminal 2 - Frontend:**
```bash
cd frontend
npm run dev
```

### 5. ะัะบัััั ะฟัะธะปะพะถะตะฝะธะต

ะัะบัะพะนัะต ะฑัะฐัะทะตั: **http://localhost:3000**

ะั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟะพะฟะฐะดะตัะต ะฝะฐ ัััะฐะฝะธัั ะปะพะณะธะฝะฐ.

---

## ๐ ะขะตััะพะฒัะต ะะบะบะฐัะฝัั

ะัะฟะพะปัะทัะนัะต ะบะฝะพะฟะบะธ "ะัััััะน ะฒัะพะด โ" ะฝะฐ ัััะฐะฝะธัะต ะปะพะณะธะฝะฐ ะธะปะธ ะฒะฒะตะดะธัะต:

### ะคะตัะผะตัั:
- `farmer1@agrocredit.uz` / `farmer123` - ะฃัะฟะตัะฝัะน ัะตัะผะตั (ะฒััะพะบะธะน ัะบะพัะธะฝะณ)
- `farmer2@agrocredit.uz` / `farmer123` - ะกัะตะดะฝะธะน ัะตัะผะตั
- `farmer3@agrocredit.uz` / `farmer123` - ะะฐัะธะฝะฐััะธะน ัะตัะผะตั

### ะะฐะฝะบ:
- `bank@agrocredit.uz` / `bank123` - ะะฐะฝะบะพะฒัะบะธะน ะพัะธัะตั

ะะพะดัะพะฑะฝะตะต: [TEST_CREDENTIALS.md](TEST_CREDENTIALS.md)

---

## ๐ ะะพัะฐะณะพะฒัะน ะขะตัั

### ะกัะตะฝะฐัะธะน 1: ะคะตัะผะตั ะฟะพะดะฐะตั ะทะฐัะฒะบั

1. ะะพะนัะธ ะบะฐะบ `farmer1@agrocredit.uz`
2. ะะตัะตะนัะธ ะฒ "ะะฐัะฒะบะธ ะฝะฐ ะบัะตะดะธั"
3. ะะฐะฟะพะปะฝะธัั ัะพัะผั:
   - ะกัะผะผะฐ: $100,000
   - ะกัะพะบ: 24 ะผะตัััะฐ
   - ะฆะตะปั: "ะะพะบัะฟะบะฐ ะฝะพะฒะพะณะพ ะบะพะผะฑะฐะนะฝะฐ"
   - ะะถะธะดะฐะตะผัะน ะดะพัะพะด: $180,000
4. ะะฐะถะฐัั "ะัะฟัะฐะฒะธัั ะทะฐัะฒะบั"
5. โ ะฃะฒะธะดะตัั ััะฟะตัะฝะพะต ัะฒะตะดะพะผะปะตะฝะธะต
6. ะะตัะตะนัะธ ะฒ "ะะพะธ ะทะฐัะฒะบะธ"
7. โ ะฃะฒะธะดะตัั ะฝะพะฒัั ะทะฐัะฒะบั ัะพ ััะฐัััะพะผ "ะะฐ ัะฐััะผะพััะตะฝะธะธ"

### ะกัะตะฝะฐัะธะน 2: ะะฐะฝะบ ะพะฑัะฐะฑะฐััะฒะฐะตั ะทะฐัะฒะบั

1. ะัะนัะธ (ะธะปะธ ะพัะบัััั ะฒ ัะตะถะธะผะต ะธะฝะบะพะณะฝะธัะพ)
2. ะะพะนัะธ ะบะฐะบ `bank@agrocredit.uz`
3. โ ะฃะฒะธะดะตัั ะฝะพะฒัั ะทะฐัะฒะบั ะฒ ัะฐะฑะปะธัะต
4. ะะฐะถะฐัั "ะัะบัััั"
5. โ ะฃะฒะธะดะตัั ะดะตัะฐะปะธ ัะตัะผะตัะฐ ะธ ะทะฐัะฒะบะธ
6. ะะฐะถะฐัั "ะะฐัััะธัะฐัั ัะบะพัะธะฝะณ"
7. โ ะฃะฒะธะดะตัั ะดะตัะฐะปะธะทะฐัะธั ัะบะพัะธะฝะณะฐ:
   - ะะฑัะธะน ะฑะฐะปะป (ะฝะฐะฟัะธะผะตั, 85/100)
   - ะะฐะทะฑะธะฒะบะฐ ะฟะพ ะบะพะผะฟะพะฝะตะฝัะฐะผ
   - ะัะพัะตะฝัะฝะฐั ััะฐะฒะบะฐ
   - ะะถะตะผะตัััะฝัะน ะฟะปะฐัะตะถ
8. ะะฐะถะฐัั "ะะดะพะฑัะธัั"
9. โ ะฃะฒะธะดะตัั ะพะฑะฝะพะฒะปะตะฝะฝัะน ััะฐััั

### ะกัะตะฝะฐัะธะน 3: ะคะตัะผะตั ะฒะธะดะธั ัะตะทัะปััะฐั

1. ะะตัะฝััััั ะบ ะฐะบะบะฐัะฝัั ัะตัะผะตัะฐ
2. ะะตัะตะนัะธ ะฒ "ะะพะธ ะทะฐัะฒะบะธ"
3. โ ะฃะฒะธะดะตัั ััะฐััั "ะะดะพะฑัะตะฝะพ"
4. โ ะฃะฒะธะดะตัั AI ัะบะพัะธะฝะณ ะธ ััะปะพะฒะธั ะบัะตะดะธัะฐ

---

## ๐ฏ ะัะฝะพะฒะฝัะต ะคัะฝะบัะธะธ

### ะะปั ะคะตัะผะตัะพะฒ:
- โ ะะพะดะฐัะฐ ะทะฐัะฒะบะธ ะฝะฐ ะบัะตะดะธั ั ะดะตัะฐะปัะฝะพะน ะธะฝัะพัะผะฐัะธะตะน
- โ ะัะพัะผะพัั ะฒัะตั ัะฒะพะธั ะทะฐัะฒะพะบ
- โ ะััะปะตะถะธะฒะฐะฝะธะต ััะฐัััะฐ (ะฝะฐ ะฟัะพะฒะตัะบะต, ะพะดะพะฑัะตะฝะพ, ะพัะบะปะพะฝะตะฝะพ)
- โ ะัะพัะผะพัั AI-ัะบะพัะธะฝะณะฐ ะธ ััะปะพะฒะธะน ะบัะตะดะธัะฐ
- โ ะะธะทัะฐะปะธะทะฐัะธั ะฟัะพะณัะตััะฐ ะพะฑัะฐะฑะพัะบะธ

### ะะปั ะะฐะฝะบะฐ:
- โ ะัะพัะผะพัั ะฒัะตั ะทะฐัะฒะพะบ ั ัะธะปัััะฐะผะธ
- โ ะะพะธัะบ ะฟะพ ัะตัะผะตัั ะธะปะธ ัะตะณะธะพะฝั
- โ ะะฒัะพะพะฑะฝะพะฒะปะตะฝะธะต ะบะฐะถะดัะต 30 ัะตะบัะฝะด
- โ ะะตัะฐะปัะฝัะน ะฟัะพัะผะพัั ะทะฐัะฒะบะธ ั ะฟัะพัะธะปะตะผ ัะตัะผะตัะฐ
- โ AI-ัะบะพัะธะฝะณ ั ะดะตัะฐะปะธะทะฐัะธะตะน ะบะพะผะฟะพะฝะตะฝัะพะฒ
- โ ะะดะพะฑัะตะฝะธะต/ะัะบะปะพะฝะตะฝะธะต ะทะฐัะฒะพะบ
- โ ะกัะฐัะธััะธะบะฐ ะฟะพ ะฒัะตะผ ะทะฐัะฒะบะฐะผ

---

## ๐๏ธ ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโ         โโโโโโโโโโโโโโโโ         โโโโโโโโโโโโโโโโโ
โ   Browser   โโโโโโโโโโถโ  Next.js     โโโโโโโโโโถโ   FastAPI     โ
โ             โ         โ  Frontend    โ  HTTP   โ   Backend     โ
โ  localhost  โ         โ  :3000       โ         โ   :8000       โ
โ   :3000     โ         โโโโโโโโโโโโโโโโ         โโโโโโโโโโโโโโโโโ
โโโโโโโโโโโโโโโ                                           โ
                                                          โผ
                                                  โโโโโโโโโโโโโโโโโ
                                                  โ  SQLite DB    โ
                                                  โ  agrocredit   โ
                                                  โโโโโโโโโโโโโโโโโ
                                                          โ
                                                          โผ
                                                  โโโโโโโโโโโโโโโโโ
                                                  โ  Scoring      โ
                                                  โ  Engine       โ
                                                  โโโโโโโโโโโโโโโโโ
                                                          โ
                                                          โผ
                                                  โโโโโโโโโโโโโโโโโ
                                                  โ  OpenAI GPT   โ
                                                  โ  (optional)   โ
                                                  โโโโโโโโโโโโโโโโโ
```

---

## ๐ ะกัััะบัััะฐ ะัะพะตะบัะฐ

```
agrocredit_ai/
โโโ backend/
โ   โโโ app/
โ   โ   โโโ api/                    # API endpoints
โ   โ   โ   โโโ routes_farmer_loan.py
โ   โ   โ   โโโ routes_bank_loan.py
โ   โ   โโโ database_adapter.py     # DB โ API adapter
โ   โ   โโโ main.py                 # FastAPI app
โ   โโโ database/
โ   โ   โโโ scoring_workflow.py     # Scoring engine
โ   โ   โโโ db_manager.py           # Database manager
โ   โโโ seed_scoring_db.py          # Test data generator
โ   โโโ .env                        # Environment vars
โ   โโโ agrocredit.db               # SQLite database
โโโ frontend/
โ   โโโ app/
โ   โ   โโโ login/page.tsx          # Login page
โ   โ   โโโ farmer/
โ   โ   โ   โโโ applications/page.tsx
โ   โ   โโโ bank/
โ   โ       โโโ applications/
โ   โ           โโโ page.tsx         # List view
โ   โ           โโโ view/page.tsx    # Detail view
โ   โโโ services/
โ       โโโ loan-service.ts          # Farmer API
โ       โโโ bank-service.ts          # Bank API
โโโ TEST_CREDENTIALS.md              # Login credentials
โโโ INTEGRATION_COMPLETE.md          # Full documentation
```

---

## ๐ง Troubleshooting

### Backend ะฝะต ะทะฐะฟััะบะฐะตััั

**ะัะธะฑะบะฐ: Module not found**
```bash
cd backend
pip install -r requirements.txt
```

**ะัะธะฑะบะฐ: Port already in use**
```bash
# Windows
netstat -ano | findstr :8000
taskkill /PID <PID> /F

# Linux/Mac
lsof -ti:8000 | xargs kill -9
```

### Frontend ะพัะธะฑะบะธ

**ะัะธะฑะบะฐ: Cannot connect to backend**
- ะฃะฑะตะดะธัะตัั ััะพ backend ะทะฐะฟััะตะฝ ะฝะฐ ะฟะพััั 8000
- ะัะพะฒะตัััะต: http://localhost:8000/api/health

**ะัะธะฑะบะฐ: npm install fails**
```bash
cd frontend
rm -rf node_modules package-lock.json
npm install
```

### ะะฐะทะฐ ะดะฐะฝะฝัั ะฟัััะฐั

```bash
cd backend
rm agrocredit.db  # ะฃะดะฐะปะธัั ััะฐััั ะะ
python seed_scoring_db.py  # ะกะพะทะดะฐัั ะทะฐะฝะพะฒะพ
```

### OpenAI API ะพัะธะฑะบะธ

**ะัะธะฑะบะฐ: API key not found**
- ะัะพะฒะตัััะต `.env` ัะฐะนะป ะฒ `backend/`
- ะฃะฑะตะดะธัะตัั ััะพ `OPENAI_API_KEY` ัััะฐะฝะพะฒะปะตะฝ

**ะัะธะผะตัะฐะฝะธะต:** GPT ะธัะฟะพะปัะทัะตััั ัะพะปัะบะพ ะฟัะธ `use_gpt=True` ะฒ scoring workflow. ะะฐะทะพะฒัะน ัะบะพัะธะฝะณ ัะฐะฑะพัะฐะตั ะฑะตะท OpenAI.

---

## ๐ API Endpoints

### Farmer Endpoints
```
POST   /api/farmer/loan-applications
GET    /api/farmer/loan-applications
GET    /api/farmer/loan-applications/{id}
```

### Bank Endpoints
```
GET    /api/bank/applications
GET    /api/bank/applications/{id}
POST   /api/bank/applications/{id}/calculate-score
PATCH  /api/bank/applications/{id}/status
GET    /api/bank/statistics
```

ะะพะปะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั: [API_ENDPOINTS.md](backend/API_ENDPOINTS.md)

---

## ๐ ะกะบะพัะธะฝะณ ะะพะผะฟะพะฝะตะฝัั

ะกะธััะตะผะฐ ะพัะตะฝะธะฒะฐะตั 7 ะบะพะผะฟะพะฝะตะฝัะพะฒ:

1. **ะะตะผะปั (25%)** - ัะฐะทะผะตั, ะบะฐัะตััะฒะพ ะฟะพัะฒั, ัะธะฟ ะฒะปะฐะดะตะฝะธั
2. **ะขะตัะฝะธะบะฐ (25%)** - ัะพะฒัะตะผะตะฝะฝะพััั, ัะพััะพัะฝะธะต ะพะฑะพััะดะพะฒะฐะฝะธั
3. **ะัะปััััั (20%)** - ััะพะถะฐะนะฝะพััั, ะดะธะฒะตััะธัะธะบะฐัะธั
4. **ะัะตะดะธัะฝะฐั ะธััะพัะธั (15%)** - ะฟัะตะดัะดััะธะต ะบัะตะดะธัั, ะฟะพะณะฐัะตะฝะธั
5. **ะะฝััะฐััััะบัััะฐ (15%)** - ะธััะธะณะฐัะธั, ััะฐะฝะธะปะธัะต, ะดะพัะพะณะธ
6. **ะะตะพะผะตััะธั (10%)** - ัะพัะผะฐ ััะฐััะบะฐ, ะดะพัััะฟะฝะพััั
7. **ะะธะฒะตััะธัะธะบะฐัะธั (10%)** - ะบะพะปะธัะตััะฒะพ ะบัะปัััั, ัะพัะฐัะธั

**ะัะพะณะพะฒัะน ะฑะฐะปะป:** 0-100
- 70-100: ะะธะทะบะธะน ัะธัะบ (ััะฐะฒะบะฐ 12-18%)
- 50-69: ะกัะตะดะฝะธะน ัะธัะบ (ััะฐะฒะบะฐ 18-25%)
- 0-49: ะััะพะบะธะน ัะธัะบ (ััะฐะฒะบะฐ 25-35%)

---

## ๐จ UI Features

- โ ะกะพะฒัะตะผะตะฝะฝัะน ะดะธะทะฐะนะฝ ั Tailwind CSS
- โ Toast notifications
- โ Loading states
- โ Progress bars ะธ charts
- โ Auto-refresh
- โ Responsive design
- โ Smooth animations

---

## ๐ Security Notes

โ๏ธ **Development Setup:**
- CORS ะพัะบััั ะดะปั ะฒัะตั ะดะพะผะตะฝะพะฒ (`allow_origins=["*"]`)
- Mock authentication (ะฑะตะท bcrypt)
- ะัะพัััะต ะฟะฐัะพะปะธ

โ **For Production:**
- ะะณัะฐะฝะธัััะต CORS ะบะพะฝะบัะตัะฝัะผะธ ะดะพะผะตะฝะฐะผะธ
- ะัะฟะพะปัะทัะนัะต JWT ัะพะบะตะฝั
- ะะพะฑะฐะฒััะต bcrypt ะดะปั ะฟะฐัะพะปะตะน
- ะัะฟะพะปัะทัะนัะต HTTPS
- ะะพะฑะฐะฒััะต rate limiting

---

## ๐ ะะพะฟะพะปะฝะธัะตะปัะฝะฐั ะะพะบัะผะตะฝัะฐัะธั

- [TEST_CREDENTIALS.md](TEST_CREDENTIALS.md) - ะขะตััะพะฒัะต ะฐะบะบะฐัะฝัั
- [INTEGRATION_COMPLETE.md](INTEGRATION_COMPLETE.md) - ะะพะปะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั
- [backend/API_KEY_SETUP.md](backend/API_KEY_SETUP.md) - ะะฐัััะพะนะบะฐ OpenAI
- [backend/API_ENDPOINTS.md](backend/API_ENDPOINTS.md) - API ะดะพะบัะผะตะฝัะฐัะธั

---

## โ Checklist

- [ ] ะฃััะฐะฝะพะฒะปะตะฝั ะทะฐะฒะธัะธะผะพััะธ (backend + frontend)
- [ ] ะกะพะทะดะฐะฝ `.env` ัะฐะนะป ั OpenAI ะบะปััะพะผ
- [ ] ะะฐะฟััะตะฝ seed script
- [ ] Backend ะทะฐะฟััะตะฝ ะฝะฐ :8000
- [ ] Frontend ะทะฐะฟััะตะฝ ะฝะฐ :3000
- [ ] ะัะพัะตััะธัะพะฒะฐะฝ ะปะพะณะธะฝ
- [ ] ะัะพัะตััะธัะพะฒะฐะฝะฐ ะฟะพะดะฐัะฐ ะทะฐัะฒะบะธ
- [ ] ะัะพัะตััะธัะพะฒะฐะฝ ัะฐััะตั ัะบะพัะธะฝะณะฐ
- [ ] ะัะพัะตััะธัะพะฒะฐะฝะพ ะพะดะพะฑัะตะฝะธะต/ะพัะบะปะพะฝะตะฝะธะต

---

**ะะพัะพะฒะพ ะบ ะธัะฟะพะปัะทะพะฒะฐะฝะธั! ๐**

ะัะปะธ ะฒะพะทะฝะธะบะปะธ ะฒะพะฟัะพัั - ัะผะพััะธัะต ะดะพะบัะผะตะฝัะฐัะธั ะธะปะธ ะฟะธัะธัะต!
